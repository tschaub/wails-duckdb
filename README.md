# Trying to build a Wails app with DuckDB

This is a very lightly modified version of the app generated by `wails3 init`. The only difference is that the `greetservice.go` imports the ["github.com/marcboeker/go-duckdb" package](https://github.com/marcboeker/go-duckdb) (and tries to make use of it).

When running `wails3 build`, I get the following output:
```
 WARNING  `wails3 [build build]` is an alias for `wails3 task %!s(MISSING)`. Use `wails task` for better control and more options.
task: [darwin:common:go:mod:tidy] go mod tidy
task: [darwin:common:generate:icons] wails3 generate icons -input appicon.png -macfilename darwin/icons.icns -windowsfilename windows/icons.ico
task: [darwin:common:go:mod:tidy] go mod tidy
task: Task "darwin:common:generate:bindings" is up to date
task: Task "darwin:common:install:frontend:deps" is up to date
task: Task "darwin:common:build:frontend" is up to date
task: [darwin:build] go build -buildvcs=false -gcflags=all="-l" -o bin/wails-duckdb
# changeme
/usr/local/go/pkg/tool/darwin_arm64/link: running clang failed: exit status 1
/usr/bin/clang -arch arm64 -Wl,-headerpad,1144 -o $WORK/b001/exe/a.out -Qunused-arguments /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/go.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000000.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000001.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000002.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000003.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000004.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000005.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000006.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000007.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000008.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000009.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000010.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000011.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000012.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000013.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000014.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000015.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000016.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000017.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000018.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000019.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000020.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000021.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000022.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000023.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000024.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000025.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000026.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000027.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000028.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000029.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000030.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000031.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000032.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000033.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000034.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000035.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000036.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000037.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000038.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000039.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000040.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000041.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000042.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000043.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000044.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000045.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000046.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000047.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000048.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000049.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000050.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000051.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000052.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000053.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000054.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000055.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000056.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000057.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000058.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000059.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000060.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000061.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000062.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000063.o /var/folders/48/fhkqgp2n7_q3vztw41t7y1wr0000gp/T/go-link-286967746/000064.o -mmacosx-version-min=10.15 -lduckdb -lc++ -L/Users/tim/go/pkg/mod/github.com/marcboeker/go-duckdb@v1.8.4/deps/darwin_arm64 -mmacosx-version-min=10.15 -framework Cocoa -mmacosx-version-min=10.13 -framework Cocoa -mmacosx-version-min=10.13 -framework Cocoa -mmacosx-version-min=10.13 -framework UniformTypeIdentifiers -framework Cocoa -framework Cocoa -framework Cocoa -framework WebKit -framework Foundation -framework Cocoa -framework WebKit -framework AppKit -framework Foundation -framework Cocoa -framework Cocoa -framework WebKit -framework Cocoa -framework WebKit -framework Cocoa -lobjc -mmacosx-version-min=10.15 -framework CoreFoundation -mmacosx-version-min=10.15 -mmacosx-version-min=10.15 -framework Foundation -framework WebKit -framework Foundation -framework WebKit -mmacosx-version-min=10.15 -framework Cocoa -mmacosx-version-min=10.13 -lresolv -framework CoreFoundation -framework Security
Undefined symbols for architecture arm64:
  "_ArrowArrayIsReleased", referenced from:
      __cgo_a6f56f66f2c3_Cfunc_ArrowArrayIsReleased in 000054.o
  "_ArrowArrayMarkReleased", referenced from:
      __cgo_a6f56f66f2c3_Cfunc_ArrowArrayMarkReleased in 000056.o
  "_ArrowArrayMove", referenced from:
      __cgo_a6f56f66f2c3_Cfunc_ArrowArrayMove in 000054.o
  "_ArrowArrayRelease", referenced from:
      __cgo_a6f56f66f2c3_Cfunc_ArrowArrayRelease in 000054.o
  "_ArrowArrayStreamMove", referenced from:
      __cgo_a6f56f66f2c3_Cfunc_ArrowArrayStreamMove in 000054.o
  "_ArrowArrayStreamRelease", referenced from:
      __cgo_a6f56f66f2c3_Cfunc_ArrowArrayStreamRelease in 000054.o
  "_ArrowSchemaIsReleased", referenced from:
      __cgo_a6f56f66f2c3_Cfunc_ArrowSchemaIsReleased in 000057.o
  "_ArrowSchemaMarkReleased", referenced from:
      __cgo_a6f56f66f2c3_Cfunc_ArrowSchemaMarkReleased in 000057.o
  "_ArrowSchemaRelease", referenced from:
      __cgo_a6f56f66f2c3_Cfunc_ArrowSchemaRelease in 000054.o
ld: symbol(s) not found for architecture arm64
clang: error: linker command failed with exit code 1 (use -v to see invocation)

  ERROR   task: Failed to run task "build": exit status 1
```

## Reproduction

Clone the repository:

```shell
git clone git@github.com:tschaub/wails-duckdb.git
cd wails-duckdb
```

Install `wails3`:
```shell
go install github.com/wailsapp/wails/v3/cmd/wails3@latest
```

Try to build the app:
```shell
wails3 build
```

## Details

```
# go version
go version go1.24.0 darwin/arm64

# wails version
v3.0.0-alpha.9

# sw_vers
ProductName:		macOS
ProductVersion:		15.3
BuildVersion:		24D60

# uname -p
arm
```

When I try to `go build` [a simple example](https://duckdb.org/docs/clients/go.html#simple-example) that uses DuckDB without Wails, the build works.
